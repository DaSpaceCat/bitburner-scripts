let col={money:"#e5C07B",def:"#FFFFFF",hak:"#98c379",sta:"#abb2bf",cha:"#c678dd"};export async function main(ns){let doc=eval("document"),hook0=doc.getElementById("overview-extra-hook-0"),hook1=doc.getElementById("overview-extra-hook-1"),ovv=doc.getElementsByClassName("MuiPaper-root")[0],srvs=ns.args,gVars;for(createGlobalScript("hudMins",`let crmMin = false;let monMin=false;let sklMin=false;let gngMin=false;let crpMin=false;let bldMin=false;let srvMin = false;let pltMin = false;`);;){ovv.style.borderRadius="10px",ovv.style.backgroundColor="rgba(33,37,43,0.8)",ovv.style.backdropFilter="blur(1px)",ovv.style.border="none",ovv.style.boxShadow="5px 5px 10px rgba(0,0,0,0.5)",ovv.style.zIndex="99999999";try{let headers=[],values=[];if(pushContE(headers,values,"╭─ CUSTOM STATS ","────────────────────────────────────────────╮",col.def),pushCont(headers,values,"In: "+ns.getPlayer().city,"At: "+ns.getPlayer().location,col.def),pushBreak(headers,values,"CRIMES","────────────────",crmMin,"crmMin"),startSec(headers,values,"crime",crmMin?"none":"inline"),pushCont(headers,values,"Total Karma: ","   "+ns.nFormat(ns.heart.break(),"0,0"),col.cha),pushCont(headers,values,"People Killed: ","   "+ns.nFormat(ns.getPlayer().numPeopleKilled,"0,0"),col.cha),endSec(headers,values),pushBreak(headers,values,"MONEY & PROFIT","────────────",monMin,"monMin"),startSec(headers,values,"money",monMin?"none":"inline"),pushCont(headers,values,"Money: ","   "+ns.nFormat(ns.getPlayer().money,"$0,0"),col.money),ns.gang.inGang()&&ns.gang.getGangInformation().moneyGainRate>0&&pushCont(headers,values,"Gang Income: ","   "+ns.nFormat(5*ns.gang.getGangInformation().moneyGainRate,"$0,0")+" /s",col.money),pushCont(headers,values,"Hack Income: ","   "+ns.nFormat(ns.getTotalScriptIncome()[0],"$0,0")+" /s",col.money),endSec(headers,values),pushBreak(headers,values,"SKILL EXPERIENCE","───────────",sklMin,"sklMin"),startSec(headers,values,"skill",sklMin?"none":"inline"),pushCont(headers,values,"Hacking: ","   "+ns.nFormat(ns.getPlayer().exp.hacking,"0,0"),col.hak),pushCont(headers,values,"Str | Def: ","   "+ns.nFormat(ns.getPlayer().exp.strength,"0,0")+" | "+ns.nFormat(ns.getPlayer().exp.defense,"0,0"),col.sta),pushCont(headers,values,"Dex | Agi: ","   "+ns.nFormat(ns.getPlayer().exp.dexterity,"0,0")+" | "+ns.nFormat(ns.getPlayer().exp.agility,"0,0"),col.sta),pushCont(headers,values,"Charisma: ","   "+ns.nFormat(ns.getPlayer().exp.charisma,"0,0"),col.cha),endSec(headers,values),ns.gang.inGang()){pushBreak(headers,values,"GANG","─────────────────",gngMin,"gngMin"),startSec(headers,values,"gang",gngMin?"none":"inline"),ns.gang.getBonusTime()>3e3&&pushCont(headers,values,"Bonus Time: ","   "+ns.tFormat(ns.gang.getBonusTime()),col.hak);let gangType=ns.gang.getGangInformation().isHacking?"Hacking":"Combat";pushCont(headers,values,"Faction: ","   "+ns.gang.getGangInformation().faction+", "+gangType,col.def),pushCont(headers,values,"Respect: ","   "+ns.nFormat(ns.gang.getGangInformation().respect,"0,0"),col.sta),ns.gang.getGangInformation().power>1&&pushCont(headers,values,"Power: ","   "+ns.nFormat(ns.gang.getGangInformation().power,"0,0.00"),col.sta),pushCont(headers,values,"Territory: ","   "+ns.nFormat(ns.gang.getGangInformation().territory,"0.000%"),col.cha),ns.gang.getGangInformation().wantedLevel>1&&pushCont(headers,values,"Wanted Level: ","   "+ns.nFormat(ns.gang.getGangInformation().wantedLevel,"0,0"),col.cha),ns.gang.getGangInformation().territoryClashChance>0&&pushCont(headers,values,"Clash Chance: ","   "+ns.nFormat(ns.gang.getGangInformation().territoryClashChance,"0.0%")+" / "+(ns.gang.getGangInformation().territoryWarfareEngaged?"":""),col.cha),endSec(headers,values)}if(ns.getPlayer().hasCorporation){let corp=eval("ns.corporation.getCorporation()");pushBreak(headers,values,"CORP","─────────────────",crpMin,"crpMin"),startSec(headers,values,"corp",crpMin?"none":"inline"),pushCont(headers,values,"Name: ","   "+corp.name,col.def),pushCont(headers,values,"Funds: ","   "+ns.nFormat(corp.funds,"$0,0"),col.money),pushCont(headers,values,"Revenue: ","   "+ns.nFormat(corp.revenue,"$0,0")+"/s",col.money),pushCont(headers,values,"Expenses: ","   "+ns.nFormat(corp.expenses,"$0,0")+"/s",col.money),pushCont(headers,values,"Profit: ","   "+ns.nFormat(corp.revenue-corp.expenses,"$0,0")+"/s",col.money),pushCont(headers,values,"Shares: ","   "+ns.nFormat(corp.numShares,"0,0")+" / "+ns.nFormat(corp.totalShares,"0,0"),col.hak),endSec(headers,values)}if(ns.getPlayer().inBladeburner){pushBreak(headers,values,"BLADEBURNERS","─────────────",bldMin,"bldMin"),startSec(headers,values,"blade",bldMin?"none":"inline"),pushCont(headers,values,"Rank: ","   "+ns.nFormat(ns.bladeburner.getRank(),"0,0"),col.cha);let stm=ns.bladeburner.getStamina();pushCont(headers,values,"Stamina: ",`   ${ns.nFormat(stm[0],"0,0.00")}/${ns.nFormat(stm[1],"0,0.00")} | ${ns.nFormat(stm[0]/stm[1],"0.000%")}`,col.sta),"Idle"==ns.bladeburner.getCurrentAction().type?pushCont(headers,values,"Action: ","   "+ns.bladeburner.getCurrentAction().type,col.sta):pushCont(headers,values,"Action: ",`   ${ns.bladeburner.getCurrentAction().type}: ${ns.bladeburner.getCurrentAction().name}`,col.hak),pushCont(headers,values,"Skill Points: ","   "+ns.nFormat(ns.bladeburner.getSkillPoints(),"0,0"),col.hak),pushCont(headers,values,"City: ","   "+ns.bladeburner.getCity(),col.def),endSec(headers,values)}pushBreak(headers,values,"SERVER","────────────────",srvMin,"srvMin"),startSec(headers,values,"server",srvMin?"none":"inline"),pushCont(headers,values,"Home: ","   Cores: "+ns.getServer("home").cpuCores+" | Ram: "+ns.nFormat(ns.getServerUsedRam("home"),"0,0")+" / "+ns.nFormat(ns.getServerMaxRam("home"),"0,0"),col.hak);for(let i=0;i<=srvs.length-1;i++)pushCont(headers,values,srvs[i]+": ","   Cores: "+ns.getServer(srvs[i]).cpuCores+" | Ram: "+ns.nFormat(ns.getServerUsedRam(srvs[i]),"0,0")+" / "+ns.nFormat(ns.getServerMaxRam(srvs[i]),"0,0"),col.hak);endSec(headers,values),pushBreak(headers,values,"PLAYTIME","───────────────",pltMin,"pltMin"),startSec(headers,values,"playt",pltMin?"none":"inline"),pushCont(headers,values,`BN${ns.getPlayer().bitNodeN}: `,ns.tFormat(ns.getPlayer().playtimeSinceLastBitnode),col.def),pushCont(headers,values,"Total: ",ns.tFormat(ns.getPlayer().totalPlaytime),col.def),endSec(headers,values),pushContE(headers,values,"╰─ CUSTOM STATS ","────────────────────────────────────────────╯",col.def),hook0.innerHTML=headers.join(" \n"),hook1.innerHTML=values.join("\n")}catch(err){ns.print("ERROR: Update Skipped: "+String(err))}await ns.sleep(1e3)}}function pushBreak(e,n,t,a,o,r){e.push(`<span style="color: ${col.def}">├───────────────</span><br>`),n.push(`<span style="color: ${col.def}">${a} <span style="color: ${col.hak}">${t}</span> ${createMin(a,o,r)}┤</span><br>`)}function pushCont(e,n,t,a,o){e.push(`<span style="color: #ffffff">│</span><span style="color: ${o}">${t}</span><br>`),n.push(`<span style="color: ${o}">${a}</span><span style="color: #ffffff">│</span><br>`)}function pushContE(e,n,t,a,o){e.push(`<span style="color: ${o}">${t}</span><br>`),n.push(`<span style="color: ${o}">${a}</span><br>`)}function startSec(e,n,t,a){e.push(`<div class="${t}" style="display: ${a}">`),n.push(`<div class="${t}" style="display: ${a}">`)}function endSec(e,n){e.push("</div>"),n.push("</div>")}function createMin(e,n,t){return e.slice(0,-4),n?e+=` <a style="cursor: pointer;" onclick="${t} = !${t}"></a> ─`:e+=` <a style="cursor: pointer;" onclick="${t} = !${t}"></a> ─`,e}function createGlobalScript(e,n){if(null==document.getElementById(e)){let t=document.createElement("script");t.id=e,t.innerHTML=n,document.head.appendChild(t)}else console.log("WARN: Script with that ID already exists! overwriting current!"),document.getElementById(e).innerHTML=n}
