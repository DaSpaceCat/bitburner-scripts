export const globalHelper={createGlobalScript:function(id,script){let doc=eval("document");if(null==doc.getElementById(id)){let s=doc.createElement("script");s.id=id,s.innerHTML=script,doc.head.appendChild(s)}else console.log("WARN: Script with that ID already exists! overwriting current!"),doc.getElementById(id).innerHTML=script},createGlobalStyle:function(id,style){let doc=eval("document");if(null==doc.getElementById(id)){let s=doc.createElement("style");s.id=id,s.innerHTML=style,doc.head.appendChild(s)}else console.log("WARN: Style with that ID already exists! overwriting current!"),doc.getElementById(id).innerHTML=style}};export const hudHelper={createMin:function(e,t,n,s){return e.slice(0,-4),t?e+=` <a class="ovvMin" id="${s}" style="cursor: pointer; transition: all .2s;" onclick="${n} = !${n};"></a> ─`:e+=` <a class="ovvMin" id="${s}" style="cursor: pointer; transition: all .2s;" onclick="${n} = !${n};"></a> ─`,e},endSec:function(e,t){e.push("</div>"),t.push("</div>")},pushBreak:function(e,t,n,s,o,l,a){e.push(`<span style="cursor: default; color: #FFFFFF">├───────────────</span><br>`),t.push(`<span style="cursor: default; color: #FFFFFF">${s} <span style="cursor: default; color: #98C379">${n}</span> ${hudHelper.createMin(s,o,l,a)}┤</span><br>`)},pushCont:function(e,t,n,s,o,l){if(e.push(`<span style="cursor: default; color: #ffffff">│</span><span style="cursor: default; color: ${s}">${n}</span><br>`),void 0!==l){t.push(`<span class="tooltip" id="ovv-${o}" style="cursor: default; position: relative; color: ${s}; text-allign: ${l}"></span><span style="cursor: default; color: #ffffff">│</span><br>`);return}t.push(`<span class="tooltip" id="ovv-${o}" style="cursor: default; color: ${s}; width: 100%;"></span><span style="cursor: default; color: #ffffff">│</span><br>`)},pushContE:function(e,t,n,s,o){e.push(`<span style="cursor: default; color: ${o}">${n}</span><br>`),t.push(`<span style="cursor: default; color: ${o}">${s}</span><br>`)},startSec:function(e,t,n,s){e.push(`<div class="${n}" style="display: ${s}">`),t.push(`<div class="${n}" style="display: ${s}">`)},startHud:function(e,t){this.pushContE(e,t,"╭───────────────","────────────────────────────────────────────╮","#FFFFFF")},endHud:function(e,t){this.pushContE(e,t,"╰───────────────","────────────────────────────────────────────╯","#FFFFFF")},startSubsec:function(e,t,n,s){this.pushContE(e,t,"│╭──────────────",`${s} <span style="color: #98C379">${n}</span> ${s}╮│`,"#FFFFFF")},endSubsec:function(e,t){this.pushContE(e,t,"│╰──────────────","───────────────────────────────────────────╯│","#FFFFFF")},pushContSub:function(e,t,n,s,o){e.push(`<span style="cursor: default; color: #ffffff">││</span><span style="cursor: default; color: ${s}">${n}</span><br>`),t.push(`<span id="ovv-${o}" style="cursor: default; color: ${s}"></span><span style="cursor: default; color: #ffffff">││</span><br>`)},updateVal:function(id,val){let e;eval(`document.getElementById("ovv-${id}")`).innerHTML=val},bitverse:function(e,t,n,s){let o=["            ","              O                          ","            "," |  O  O      |      O  O  |             ","        O   "," |  | /     __|       \\ |  |    O        ","      O |   "," O  | |  O /  |  O    | |  O    | O      ","    | | |   "," |  |_/  |/   |   \\_  \\_|  |    | | |    ","  O | | | O "," |  | O__/    |   / \\__ |  |  O | | | O  ","  | | | | | "," |  |   /    /|  O  /  \\|  |  | | | | |  ","O | | |  \\| "," |  O  /   _/ |    /    O  |  |/  | | | O","| | | |O  / "," |  | O   /   |   O   O |  |  \\  O| | | |","| | |/  \\/  ","/ __| | |/ \\  |   \\   | |__ \\  \\/  \\| | |"," \\| O   |  |",'_/    |\\|   \\ <span onclick="bna = 13;" class="bnSpan" id="bn13">O</span>    \\__|    \\_|  |   O |/ ',"  | |   |_/ ","      | |    \\|    /  |       \\_|   | |  ","   \\|   /   ","       \\|     |   /  /          \\   |/   ",'    |  <span onclick="bna = 10;" class="bnSpan" id="bn10">O</span>    ','        |     |  /  |            <span onclick="bna = 11;" class="bnSpan" id="bn11">O</span>  |    ','  <span onclick="bna = 9;" class="bnSpan" id="bn9">O</span> |  |    ','        |     |     |            |  | <span onclick="bna = 12;" class="bnSpan" id="bn12">O</span>  ',"  | |  |    ","        /    / \\    \\            |  | |  ","   \\|  |    ",'       /  <span onclick="bna = 7;" class="bnSpan" id="bn7">O</span> /   \\ <span onclick="bna = 8;" class="bnSpan" id="bn8">O</span>  \\           |  |/   ',"    \\  |    ","      /  / |     | \\  \\          |  /    ","     \\ \\JUMP",' <span onclick="bna = 5;" class="bnSpan" id="bn5">O</span>3R |  |  |     |  |  | R3<span onclick="bna = 6;" class="bnSpan" id="bn6">O</span> PMUJ/ /     ',"      \\||   "," |   |  |  |     |  |  |   |    ||/      ","       \\|   ","  \\_ |  |  |     |  |  | _/     |/       ","        \\   ","    \\| /    \\   /    \\ |/       /        ",'         <span onclick="bna = 1;" class="bnSpan" id="bn1">O</span>  ','     |/   <span onclick="bna = 2;" class="bnSpan" id="bn2">O</span>  | |  <span onclick="bna = 3;" class="bnSpan" id="bn3">O</span>   \\|       <span onclick="bna = 4;" class="bnSpan" id="bn4">O</span>         ',"         |  ","     |    |  | |  |    |       |         ","          \\J","UMP3R|JUMP|3R| |R3|PMUJ|R3PMUJ/          "],l="",a="";for(let i=0;i<o.length;i+=2)l+=`<span class="ovvCont" style="cursor: default; white-space: break-spaces;color: ${n};"><span style="color: #FFFFFF;">│   </span>${o[i]}</span><br>`,a+=`<span class="ovvCont" style="cursor: default; white-space: break-spaces;color: ${n};">${o[i+1]}<span style="color: #FFFFFF;">   │</span></span><br>`;l+=`<span class="ovvCont" style="cursor: default; color: #FFFFFF;">╰───────────────</span>`,a+=`<span class="ovvCont" style="cursor: default; color: #FFFFFF;">────────────────────────────────────────────╯</span>`;let r=document.createElement("div"),c=document.createElement("div");r.innerHTML=l,c.innerHTML=a,r.id="bitverseL",c.id="bitverseR",e.parentNode.insertBefore(r,e.nextSibling),t.parentNode.insertBefore(c,t.nextSibling);for(let p=0;p<s.length;p++){let u=s[p],d=document.getElementById(`bn${u.n}`);switch(u.lvl){case 1:d.className="bnSpan1";break;case 2:d.className="bnSpan2";break;case 3:d.className="bnSpan3"}}},tooltip:{updatePos:function(e){let d=eval("document"),cx=e.clientX,cy=e.clientY,els=d.getElementsByClassName("tooltiptext");for(let i=0;i<els.length;i++){let elc=els[i],lpx=cx-10,wd=eval("window.innerWidth");for(;lpx+elc.offsetWidth+8>wd;)lpx--;elc.style.left=lpx+"px",elc.style.top=cy+10+"px"}},style:`.tooltiptext{font-family: "Fira Code", monospace;padding: 4px 8px;margin: 2px;overflow-wrap: normal;white-space: pre;font-weight: 500;font-size: 1em;border-radius: 0px;border: 2px solid white;max-width: 100vh;position: fixed;z-index: 9999999999;inset: 0px auto auto 0px;transform: translate3d(0px, 20px, 0px);transition: all 0.2s;color: #F5C2E7;background-color: #181825}`,createObject:function(e,t){return{tooltiptext:e,textAlign:t}},createBNObject:function(e,t,n,s){return s?{tooltiptext:`<span style="font-weight: bold;">${t}</span><br>${n}<br>SF: ${e.lvl}`}:{tooltiptext:`<span style="font-weight: bold;">${t}</span><br>${n}<br>SF: ${e.lvl} / 3`,textAlign:"left"}},setElementTooltip:function(el,params,doneEL){let d=eval("document");if(doneEL||(d.addEventListener("mousemove",this.updatePos,!1),doneEL=!0),void 0!==params.tooltiptext&&""!==params.tooltiptext){let curToolTip=d.getElementById(`${el}-tooltip`);if(null===curToolTip){let tt=d.createElement("span");tt.id=`${el}-tooltip`,tt.className="tooltiptext",tt.innerHTML=params.tooltiptext,d.body.appendChild(tt),void 0!==params.textAlign&&(d.getElementById(`${el}-tooltip`).style.textAlign=params.textAlign),d.getElementById(`${el}-tooltip`).style.visibility="hidden",d.getElementById(`${el}-tooltip`).style.opacity="0",d.getElementById(el).addEventListener("mouseover",e=>{d.getElementById(`${el}-tooltip`).style.visibility="visible",d.getElementById(`${el}-tooltip`).style.opacity="1"}),d.getElementById(el).addEventListener("mouseout",e=>{d.getElementById(`${el}-tooltip`).style.visibility="hidden",d.getElementById(`${el}-tooltip`).style.opacity="0"})}else curToolTip.innerHTML!=params.tooltiptext&&(curToolTip.innerHTML=params.tooltiptext)}}}};export const miscHelper={findRoute:function(e,t){let n=[t];for(;"home"!=n[0];){let s=e.scan(n[0]);n.unshift(s[0])}return n}};export const sleeveHelper={setTask:function(s,a,n,t,o1,o2){let i=n,sleeves=1;for(a&&(i=0,sleeves=s.sleeve.getNumSleeves());i<sleeves;i++)switch(t){case"recovery":s.sleeve.setToShockRecovery(i);break;case"sync":eval("s.sleeve.setToSynchronize(i)");break;case"crime":void 0!=o1?eval("s.sleeve.setToCommitCrime(i, o1)"):s.print("ERROR: no crime provided");break;case"wFaction":void 0!=o1?void 0!=o2?eval("s.sleeve.setToFactionWork(i, o1, o2)"):s.print("ERROR: no work type provided"):s.print("ERROR: no faction provided");break;case"wCompany":void 0!=o1?eval("s.sleeve.setToCompanyWork(i, o1)"):s.print("ERROR: no company defined");break;case"gym":void 0!=o1?void 0!=o2?eval("s.sleeve.setToGymWorkout(i, o1, o2)"):s.print("ERROR: no gym provided"):s.print("ERROR: no stat provided");break;case"uni":void 0!=o1?void 0!=o2?eval("s.sleeve.setToUniversityCourse(i, o1, o2)"):s.print("ERROR: no university provided"):s.print("ERROR: no course provided");break;case"blade":void 0!=o1?void 0!=o2?eval("s.sleeve.setToBladeburnerAction(i, o1, o2)"):s.print("ERROR: no category provided"):s.print("ERROR: no contract provided");break;case void 0:s.print("you, didn't define a work type. what are you even doing?")}},buyAllAugs:function(s){for(let i=0;i<s.sleeve.getNumSleeves();i++){let augs=eval("s.sleeve.getSleevePurchasableAugs(i)"),totalCost;for(let j=0;j<augs.length;j++)totalCost+=eval("s.sleeve.getSleeveAugmentationPrice(augs[j])");if(s.getPlayer().money<totalCost){s.tprint(`ERROR: Not enough dollariedoos to buy augments for sleeve ${i}. Aborting.`);return}for(let j=0;j<augs.length;j++)eval("s.purchaseSleeveAug(i, augs[j])");return}}};export const gangHelper={randomName:function(e){let t=["Boe Jiden","Beff Jesos","Darcetine","Gill Bates","Zarco","Lilly","Doc. Brown","Marty McFly","Roxy","Natalie","Rem","Tai","Luther","Sean","Celso","Paul","Kit","Anna","Todd","Chozo","Kai","Tucker","John Doe","undefined","Nezomi","Avery","Phillip","Amtrak","Avelican","You","Hydroflame","xsinx","Zoe","Zelow","nightElf","Jeoshua","Lyra","Dashi","ElJay","Quacksouls","_NAME_PLACEHOLDER_","Neo","Trinity","Morpheus","Agent Smith","Keanu Reeves","John Matrix","Mughur","Khan","James T. Kirk","Spock","Leonard McCoy","Jean-Luc Picard","William Riker","Data","Kathryn Janeway","Chakotay","Tom Paris","Harry Kim","Neelix","The Borg Queen","Seven of Nine","Q","Mariah Carey","Rafi","Rios","Grant","Alex","Robert","Ace"];for(let n=0;n<e;n++)for(let s=0;s<t.length;s++)t[s]==e[n]&&t.splice(s,1);return t[Math.floor(Math.random()*t.length)]},getUpgradeDiscount:function(e,t){let n=5e6,s=1e6,o=Math.pow(t,.01)+t/n+Math.pow(e,.01)+e/s-1;return Math.max(1,o)}};export const formulaHelper={hasFormulas:function(e){return e.fileExists("Formulas.exe","home")},getExpReq:function(e,t,n,s){let o=e.getPlayer().exp[t],l;if(s)switch(t){case"hacking":l=e.getBitNodeMultipliers().HackingLevelMultiplier*e.getPlayer().mults[t];break;case"strength":l=e.getBitNodeMultipliers().StrengthLevelMultiplier*e.getPlayer().mults[t];break;case"defense":l=e.getBitNodeMultipliers().DefenseLevelMultiplier*e.getPlayer().mults[t];break;case"dexterity":l=e.getBitNodeMultipliers().DexterityLevelMultiplier*e.getPlayer().mults[t];break;case"agility":l=e.getBitNodeMultipliers().AgilityLevelMultiplier*e.getPlayer().mults[t];break;case"charisma":l=e.getBitNodeMultipliers().CharismaLevelMultiplier*e.getPlayer().mults[t]}else l=e.getPlayer().mults[t];let a=e.formulas.skills.calculateExp(n,l);return a-o},levelsFromExpGain:function(e,t,n){let s=e.getPlayer().mults[t],o=e.getPlayer().exp[t]+n,l=e.getPlayer().skills[t],a=e.formulas.skills.calculateSkill(o,s),i=a-l;return i}};export const hashnetHelper={canGet:function(e,t){let n=e.hacknet.numHashes(),s=e.hacknet.hashCost(t,1),o=this.getPriceIncrease(t);for(let l=0;n>0;l++)if((n-=s+o*l)<0)return l},getPriceIncrease:function(e){switch(e){case"Sell for Corporation Funds":return 100;case"Reduce Minimum Security":case"Increase Maximum Money":case"Improve Studying":case"Improve Gym Training":return 50;case"Exchange for Corporation Research":case"Generate Coding Contract":return 200;case"Exchange for Bladeburner Rank":case"Exchange for Bladeburner SP":return 250}}};